{"version":3,"file":"drilldowns-min.js","sources":["drilldowns.js"],"names":["Modustri","controller","$log","$scope","$routeParams","$location","$http","CustomerServices","MachineServices","InsServices","UserServices","AuthServices","Utilities","AppSettings","$filter","xAxisPlot","dayArray","i","calculateDays","xday","moment","Date","fromChartDate","add","format","push","dataPoints","points","millisecondsPerDay","days","toChartDate","initializeInspectorPoints","placeholder","angular","forEach","Chart","inspectors_list","data","name","initializeCustomerPoints","chartCustomers","customer","initializeMachinePoints","chartMachines","machine","removeCustomerDuplicates","results","customerArr","removedDupArr","obj","inspection_obj","undefined","indexOf","$","each","el","inArray","removeMachineDuplicates","machineArr","model","checkUserCreds","UserSettings","getUserSettings","date","timestamp","filter","from","to","customer_name","customer_id","inspections","hide","getUsersByDealer","v","k","username","id","dashboardCustomers","chartType","subtract","UpdateDateRangeData","show","showSpinner","UpdateDispatch","UpdateInspectorChart","UpdateCustomerChart","UpdateMachineChart","fromUnix","unix","toUnix","getByDealerIdStartEnd","getDealerID","then","myins","_","ins","index","list","datestring","getDatestring","inspector_chart","customer_chart","machine_chart","drilldown_chart","inspectorPlots","result","inspectorChartSearchFilter","user","plot","plotTimeStamp","formatDatestring","length","highcharts","chart","type","title","text","subtitle","xAxis","categories","yAxis","min","tooltip","headerFormat","pointFormat","footerFormat","shared","useHTML","plotOptions","column","pointPadding","borderWidth","series","events","drilldown","e","seriesOptions","this","drilldowns","Animals","Fruits","Cars","point","showLoading","setTimeout","hideLoading","addSeriesAsDrilldown","legend","enabled","dataLabels","colorByPoint","y","customerPlots","customerChartSearchFilter","custName","machinePlots","machineChartSearchFilter","machineName","selectedChartByInspector","filterChartByInspector","selectedChartByCustomer","filterChartByCustomer"],"mappings":"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"}